\paragraph{Création d'une branche locale}
La première étape est de récupérer ou de créer un dépot. On peut le créer depuis un répertoire local, ou depuis un dépot distant. Il y a de nombreuses syntaxes, nous avons choisi de montrer celle utilisée pour récupérer le projet sur github (il faut être inscrit sur le github).

\begin{figure}[H]
      \begin{tabular}{l}
	\textit{Récupérer un dépot existant :} \\
        \verb|     git clone ~/existing/depot ~/nouveau/depot|\\
	\verb|     git clone git@github.com:EvOr/tache.git|\\
	\textit{Créer un nouveau dépot :}\\
	\verb|     git init|\\
      \end{tabular}
\end{figure}

\paragraph{Configuration du dépot distant} Après avoir récupérer les sources, il faut affecter un alias à l'adresse de dépot.

\begin{figure}[H]
      \begin{tabular}{l}
	\textit{Définition du nom du dépot}\\
	\verb|     git remote add <alias du dépot> <adresse du début>|\\
	\verb|     git remote add origin ~/existant/depot|\\
	\verb|     git remote add origin git@github.com:EvOr/tache.git|\\
      \end{tabular}
\end{figure}

\paragraph{Récupération et envoie des sources} Cet alias est utilisé dans les commandes permettant d'envoyer les sources et de récupérer des sources depuis un dépot distant.

\begin{figure}[H]
      \begin{tabular}{l}
	\textit{Récupération des sources}\\
	\verb|     git pull <alias du depot> <nom de la branche>|\\
	\verb|     git pull origin master|\\
	\verb|     git pull origin refactor|\\
	\verb|     git remote add origin git@github.com:EvOr/tache.git|\\
      \end{tabular}
\end{figure}

\paragraph{Gestion du dépot local} Le dépot local est celui qui a été cloné ou initialisé, il est possible d'effectuer les même opération qu'avec subversion ou cvs.

\begin{figure}[H]
      \begin{tabular}{l}
	\textit{Ajout de fichiers à un commit}\\
	\verb|     git add file1 file2 file3|\\
	\textit{Commit l'ensemble des fichiers modifiés et/ou ajoutés}\\
	\verb|     git commit -a|\\
	\textit{Annule toutes les modification en cours et revient à l'état du dernier commit}\\
	\verb|     git reset --hard|\\
	\textit{Revient n commits en arrière}\\
	\verb|     git reset --hard HEAD~n|\\
	\textit{Revient à l'état du dernier pull}\\
	\verb|     git reset --hard origin|\\
      \end{tabular}
\end{figure}


\paragraph{Gestion du dépot local} Le dépot local est celui qui a été cloné ou initialisé, il est possible d'effectuer les même opération qu'avec subversion ou cvs.

\begin{figure}[H]
      \begin{tabular}{l}
	\textit{Ajout de fichiers à un commit}\\
	\verb|     git add file1 file2 file3|\\
	\textit{Commit l'ensemble des fichiers modifiés et/ou ajoutés}\\
	\verb|     git commit -a|\\
	\textit{Annule toutes les modification en cours et revient à l'état du dernier commit}\\
	\verb|     git reset --hard|\\
	\textit{Revient n commits en arrière}\\
	\verb|     git reset --hard HEAD~n|\\
	\textit{Revient à l'état du dernier pull}\\
	\verb|     git reset --hard origin|\\
      \end{tabular}
\end{figure}

\paragraph{Gestion des branches} Passons à ce qui fait de git une merveille de gestionnaire de sources : les branches. Comme nous l'avons dit, dès que vous modifiez un fichier en local vous êtes dans une branche. Mais vous pouvez les créer et les gérer à la main...

\begin{figure}[H]
      \begin{tabular}{l}
	\textit{Lister les branches}
	\verb|     git branch|\\
	\textit{Créer une branche}\\
	\verb|     git branch <nom de la branche>|\\
	\textit{Supprimer une branche}\\
	\verb|     git branch -d <nom de la branche>|\\
\textit{Changer de branche}\\
	\verb|     git checkout <nom de la branche>|\\
\textit{Merge branche choisie dans la branche courante}\\
\verb|     git merge <nom de la branche>|\\
     \end{tabular}
\end{figure}

\paragraph{Gestion des conflits} Comme nous l'avons dit, le simple fait que deux fichiers soient plus récents que leur dernière version commune est un conflit pour git. Si la plupart des commit peuvent être régler facilement. Certains nécessite un merge à la main.

\begin{figure}[H]
      \begin{tabular}{l}
	\textit{Affiche les fichiers en conflit}
	\verb|     git commit|\\
	\textit{Met à jour les fichiers en mettant des ``conflict markers'' a l'instar de subversion}\\
	\verb|     git status|\\
	\textit{Reste à éditer les fichiers et à les ajouter au commit}\\
	\verb|     git add <fichier en conflit>|\\
	\textit{Changer de branche}\\
	\verb|     git commit|\\
     \end{tabular}
\end{figure}

\paragraph{Particularité d'un push local}
Lorsque l'on a utilisé un dépot local, il faut faire un reset hard sur ce dépot pour modifier les fichiers du dépot. Sinon il ne peuvent être utilisé comme tel. Néanmoins, il n'y a pas besoin de ce reset pour faire un pull des dernières sources pushées.

\paragraph{Où trouvez de l'aide ?}
Ce listing de commandes n'est pas exhaustif. Nous avons choisi de ne montrer que les commandes utilisées lors de notre développement. Il y en a évidemment beaucoup d'autres. Il est par exemple possible de créer une branche temporaire applicable sur n'importe quelle autre branche (\verb|git stash|) ou de migrer ou fusionner des dépots git avec des projets sous subversion ou cvs... 

Écrire une documentation complète de git n'était pas le but de cette annexe, nous vous renvoyons donc à ses \verb|man| (plutôt bien faits) et aux divers tutoriels et wiki sur le sujet disponible sur la toile : \\

\verb|man gittutorial|\\
\verb|http://wiki.winehq.org/GitWine|


